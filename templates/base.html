{% load static %}
{% load notifications_tags %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% block title %}Title{% endblock title %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

  <link rel="stylesheet" href="{% static 'users/css/base_styles.css' %}" type="text/css">

  {% block links %}{% endblock links %}

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/6480174803.js" crossorigin="anonymous"></script>

  {% block start_scripts %}{% endblock start_scripts %}
</head>
<body>

<div class="container-fluid">
  <div class="row main-row">
    {% if request.user.is_authenticated %}
      <nav id="main-navbar" class="navbar d-none d-sm-flex bg-black flex-column col-1">
        <ul class="navbar-nav h-100 align-items-center justify-content-center">
          <li class="nav-item mb-1">
            <a href="{% url 'chats:create_chat' %}" class="nav-link"><i class="fa-solid fa-pen"></i></a>
          </li>
          <li class="nav-item mt-1">
            <a href="{% url 'chats:chat_list' %}" class="nav-link"><i class="fa-regular fa-message"></i></a>
          </li>
          <li class="nav-item mt-1">
            <a href="#" class="nav-link"><i class="fa-regular fa-user"></i></a>
          </li>
          <li class="nav-item mt-1">
            <a href="#" class="nav-link"><i class="fa-solid fa-gear"></i></a>
          </li>
          <li class="nav-item mt-1">
            <a href="{% url 'logout' %}" class="nav-link"><i class="fa-solid fa-right-from-bracket"></i></a>
          </li>
          <li class="nav-item mt-4" title="Вы: {{ request.user.get_full_name }}">
            <a href="{% url 'users:profile' current_user_id %}">
              <img src="{{ current_user_image.url }}" alt="" style="width: 40px; border-radius: 50%"
                   class="user-image">
            </a>
          </li>
        </ul>
      </nav>
    {% endif %}

    {% block content %}{% endblock content %}
  </div>
</div>

<script>
    let currentUserID = {{ current_user_id }};
</script>

{% block end_scripts %}{% endblock end_scripts %}


<script src="{% static 'chats/js/message_notifications.js' %}"></script>
<script src="{% static 'users/js/online_status.js' %}"></script>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
</body>
</html>